<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">

    <title>Crime Map Visualization</title>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="./lib/d3.v5.min.js"></script>
    <script src="./lib/d3-dsv.min.js"></script>
    <script src="./lib/d3-simple-slider.min.js"></script>
    <script src="./lib/d3-tip.min.js"></script>
    <script src="./lib/papaparse.min.js"></script>
    <script src="./lib/require.js"></script>
    <!-- <script src="./lib/jquery-csv.js"></script> -->
    

    <!-- slide bar reference: https://bl.ocks.org/johnwalley/e1d256b81e51da68f7feb632a53c3518 -->
    <style>
      /* Set the size of the div element that contains the map */
      #map {
        height: 800px;
        /* The height is 400 pixels */
        width: 100%;
        /* The width is the width of the web page */
      }
      .axis text {
        visibility:hidden;
        /* fill: red; */
      }
    </style>

    <script src="./index.js"></script>
      
    <!-- <script>
    //   import { MarkerClusterer } from "@googlemaps/markerclusterer";

      const locations = [
        { lat: -31.56391, lng: 147.154312 },
        { lat: -33.718234, lng: 150.363181 },
        { lat: -33.727111, lng: 150.371124 },
        { lat: -33.848588, lng: 151.209834 },
        { lat: -33.851702, lng: 151.216968 },
        { lat: -34.671264, lng: 150.863657 },
        { lat: -35.304724, lng: 148.662905 },
        { lat: -36.817685, lng: 175.699196 },
        { lat: -36.828611, lng: 175.790222 },
        { lat: -37.75, lng: 145.116667 },
        { lat: -37.759859, lng: 145.128708 },
        { lat: -37.765015, lng: 145.133858 },
        { lat: -37.770104, lng: 145.143299 },
        { lat: -37.7737, lng: 145.145187 },
        { lat: -37.774785, lng: 145.137978 },
        { lat: -37.819616, lng: 144.968119 },
        { lat: -38.330766, lng: 144.695692 },
        { lat: -39.927193, lng: 175.053218 },
        { lat: -41.330162, lng: 174.865694 },
        { lat: -42.734358, lng: 147.439506 },
        { lat: -42.734358, lng: 147.501315 },
        { lat: -42.735258, lng: 147.438 },
        { lat: -43.999792, lng: 170.463352 },
      ];

      function initMap() {

        const infoWindow = new google.maps.InfoWindow({
            content: "",
            disableAutoPan: true,
        });

        const labels = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        const markers = locations.map((position, i) => {
            const label = labels[i % labels.length];
            const marker = new google.maps.Marker({
            position,
            label,
            });

            // markers can only be keyboard focusable when they have click listeners
            // open info window when marker is clicked
            marker.addListener("click", () => {
            infoWindow.setContent(label);
            infoWindow.open(map, marker);
            });
            return marker;
        });

        // new MarkerClusterer({ markers, map });
      }

    </script> -->
  </head>
  <body>

    <!-- <textarea data-enable-grammarly="false"></textarea> -->
    <h3>Crime Map Demo</h3>
    <!--The div element for the map -->
    <div id="map"></div>

    <div id = "t" class="row align-items-center">
        <p id="t-Year">Slide to select a previous/future date:</p><div id="slider-year"></div>
    </div>

    <label for="hourSelect">Use hour period: </label>
    <select name="hourSelect" id="hourSelect"></select>

    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBsJODNk5F5uUiWL_cLcMatg2SPp11Kqrs&callback=initMap&libraries=visualization&v=weekly"
      async="false"
    ></script>
  </body>
</html>
